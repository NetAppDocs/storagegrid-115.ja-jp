---
permalink: ilm/what-ilm-rule-filtering-is.html 
sidebar: sidebar 
keywords:  
summary: ILM ルールを作成する際には、フィルタを指定して環境 ルールを構成するオブジェクトを特定します。 
---
= ILM ルールのフィルタリングとは
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM ルールを作成する際には、フィルタを指定して環境 ルールを構成するオブジェクトを特定します。

最も単純なケースは、ルールでフィルタを使用しない場合です。環境 のすべてのオブジェクトでフィルタを使用しないルールがある場合は、 ILM ポリシーの最後の（デフォルト）ルールである必要があります。デフォルトルールは、別のルールのフィルタに一致しないオブジェクトに対するストレージの手順を提供します。

基本フィルタを使用すると、大規模なオブジェクトグループに異なるルールを適用できます。Create ILM Rule ウィザードの Define Basics ページの基本フィルタを使用して、特定のテナントアカウント、特定の S3 バケットまたは Swift コンテナ、あるいはその両方にルールを適用できます。

image::../media/ilm_create_ilm_rule_wizard_1.png[ILM ウィザード：ステップ 1 / 3]

これらの基本フィルタを使用すると、多数のオブジェクトに異なるルールを簡単に適用できます。たとえば、会社の財務記録は規制要件を満たすために保存し、マーケティング部門のデータは日々の業務を円滑に進めるために保存しなければならない場合があります。部門ごとに別々のテナントアカウントを作成するか、またはデータを部門ごとに別々の S3 バケットに分離したあとで、すべての財務記録を環境 で処理するルールを 1 つ作成し、環境 ですべてのマーケティングデータを処理するもう 1 つのルールを作成することができます。

Create ILM Rule ウィザードの * Advanced Filtering * ページでは、詳細な制御を行うことができます。次のオブジェクトプロパティに基づいてオブジェクトを選択するフィルタを作成できます。

* 取り込み時間
* 最終アクセス時間
* オブジェクト名のすべてまたは一部（キー）
* S3 バケットのリージョン（場所の制約）
* オブジェクトのサイズ
* ユーザメタデータ
* S3 オブジェクトタグ


非常に特定の条件でオブジェクトをフィルタリングできます。たとえば、病院の画像診断部門が保管するオブジェクトは、 30 日以内に頻繁に使用され、その後はあまり使用されない可能性があります。一方、患者の通院情報を格納するオブジェクトは、医療ネットワークの本部請求部門にコピーする必要があります。オブジェクト名、サイズ、 S3 オブジェクトタグ、またはその他の関連条件に基づいて各タイプのオブジェクトを識別するフィルタを作成してから、それぞれのオブジェクトセットを適切に格納するルールを別々に作成できます。

必要に応じて、基本フィルタと高度なフィルタを 1 つのルールにまとめることもできます。たとえば、マーケティング部門では、サイズの大きな画像ファイルをベンダーレコードとは異なる方法で格納しなければならない場合があります。一方、人事部門では、特定の地域の人事レコードとポリシー情報を一元的に格納する必要があります。この場合は、テナントアカウントでフィルタリングするルールを作成して各部門からレコードを分離し、各ルールで高度なフィルタを使用してルール環境 に固有のタイプのオブジェクトを識別します。
