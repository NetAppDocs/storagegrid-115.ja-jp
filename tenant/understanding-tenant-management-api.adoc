---
permalink: tenant/understanding-tenant-management-api.html 
sidebar: sidebar 
keywords: StorageGRID, tenant management api, tenant api 
summary: Tenant Manager のユーザインターフェイスの代わりにテナント管理 REST API を使用してシステム管理タスクを実行できます。たとえば、 API を使用して処理を自動化したり、ユーザなどの複数のエンティティを迅速に作成したりできます。 
---
= テナント管理APIについて
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Tenant Manager のユーザインターフェイスの代わりにテナント管理 REST API を使用してシステム管理タスクを実行できます。たとえば、 API を使用して処理を自動化したり、ユーザなどの複数のエンティティを迅速に作成したりできます。

テナント管理APIでは、SwaggerオープンソースAPIプラットフォームを使用します。Swagger では、開発者でもそうでないユーザでも、わかりやすいユーザインターフェイスを利用して API を操作できます。Swagger のユーザインターフェイスでは、各 API 処理に関する詳細情報とドキュメントを参照できます。

Swagger のテナント管理 API のドキュメントにアクセスするには、次の手順を実行します。

.手順
. Tenant Manager にサインインします。
. Tenant Managerのヘッダーで* Help *>* API Documentation *を選択します。




== API 処理

テナント管理 API では、使用可能な API 処理が次のセクションに分類されます。

* *account* -- 現在のテナントアカウントに対する処理。ストレージの使用状況情報の取得も含まれます。
* *auth* -- ユーザセッション認証を実行するための操作。
+
テナント管理 API では、 Bearer トークン認証方式がサポートされています。テナントにログインするには、認証要求（つまり、 `POST /api/v3/authorize`）。ユーザが認証されると、セキュリティトークンが返されます。このトークンは、後続の API 要求（「 Authorization ： Bearer トークン」）のヘッダーで指定する必要があります。

+
認証セキュリティの向上については、「クロスサイトリクエストフォージェリに対する保護」を参照してください。

+

NOTE: StorageGRID システムでシングルサインオン（ SSO ）が有効になっている場合は、別の手順による認証が必要です。StorageGRID の管理手順の「シングルサインオンが有効な場合のAPIへのサインイン」を参照してください。

* *config * -- 製品リリースとテナント管理 API のバージョンに関連する操作。製品リリースバージョンおよびそのリリースでサポートされる API のメジャーバージョンを一覧表示できます。
* *containers * -- S3 バケットまたは Swift コンテナに対する次の処理。
+
[cols="1a,3a"]
|===
| プロトコル | 許可するアクセス許可 


 a| 
S3
 a| 
** 準拠バケットと非準拠バケットを作成する
** 古い準拠設定の変更
** オブジェクトに対して実行される処理の整合性制御を設定します
** バケットのCORS設定を作成、更新、および削除する
** オブジェクトの最終アクセス日時の更新の有効化と無効化
** CloudMirrorレプリケーション、通知、検索統合（メタデータ通知）などのプラットフォームサービスの構成設定の管理
** 空のバケットを削除中




 a| 
Swift
 a| 
コンテナに使用する整合性レベルを設定します

|===
* * deactivated-features * -- 非アクティブ化された可能性のある機能を表示する操作。
* * endpoints * -- エンドポイントを管理するための処理。エンドポイントを使用することで、 S3 バケットは外部のサービスを StorageGRID CloudMirror レプリケーション、通知、または検索統合に使用できます。
* *groups * -- ローカルテナントグループを管理し、外部アイデンティティソースからフェデレーテッドテナントグループを取得するための処理。
* * identity-source * -- 外部のアイデンティティソースを設定する処理、およびフェデレーテッドグループとユーザ情報を手動で同期する処理。
* *regions* -- StorageGRID システムに設定されているリージョンを判別するための処理。
* * s3 * - テナントユーザの S3 アクセスキーを管理する処理。
* *s3-object-lock *-- StorageGRID システムのグローバルなS3オブジェクトロック（準拠）の構成を確認する処理。
* * users * -- テナントユーザーを表示および管理するための操作。




== 処理の詳細

各 API 処理を展開表示すると、 HTTP アクション、エンドポイント URL 、必須またはオプションのパラメータのリスト、要求の本文の例（必要な場合）、想定される応答を確認できます。

image::../media/tenant_api_swagger_example.gif[Swagger API での GET groups 処理を示す例]



== API要求の実行


IMPORTANT: API Docs Web ページを使用して実行する API 処理はすべてその場で実行されます。設定データやその他のデータを誤って作成、更新、または削除しないように注意してください。

.手順
. HTTPアクションをクリックして、要求の詳細を表示します。
. グループやユーザの ID など、要求で追加のパラメータが必要かどうかを確認します。次に、これらの値を取得します。必要な情報を取得するために、先に別の API 要求の問題 が必要になることがあります。
. 要求の本文の例を変更する必要があるかどうかを判断します。その場合は、[*Model]をクリックして各フィールドの要件を確認できます。
. [* 試してみてください * ] をクリックします。
. 必要なパラメータを指定するか、必要に応じて要求の本文を変更します。
. [* Execute] をクリックします。
. 応答コードを確認し、要求が成功したかどうかを判断します。


.関連情報
link:protecting-against-cross-site-request-forgery-csrf.html["クロスサイトリクエストフォージェリ（CSRF）の防止"]

link:../admin/index.html["StorageGRID の管理"]
