---
permalink: admin/creating-tenant-account-if-storagegrid-is-not-using-sso.html 
sidebar: sidebar 
keywords:  
summary: テナントアカウントを作成する際は、名前、クライアントプロトコル、およびオプションでストレージクォータを指定します。StorageGRID がシングルサインオン（SSO）を使用していない場合は、テナントアカウントが独自のアイデンティティソースを使用するかどうかを指定し、テナントのローカルrootユーザの初期パスワードを設定する必要があります。 
---
= StorageGRID がSSOを使用していない場合のテナントアカウントの作成
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
テナントアカウントを作成する際は、名前、クライアントプロトコル、およびオプションでストレージクォータを指定します。StorageGRID がシングルサインオン（SSO）を使用していない場合は、テナントアカウントが独自のアイデンティティソースを使用するかどうかを指定し、テナントのローカルrootユーザの初期パスワードを設定する必要があります。

.このタスクについて
Grid Manager用に設定されているアイデンティティソースをテナントアカウントで使用し、テナントアカウントにフェデレーテッドグループへのRoot Access権限を付与する場合は、そのフェデレーテッドグループをGrid Managerにインポートしておく必要があります。この管理グループに Grid Manager の権限を割り当てる必要はありません。の手順を参照してください link:managing-admin-groups.html["管理者グループの管理"]。

.手順
. [*表示名*]テキストボックスに、このテナントアカウントの表示名を入力します。
+
表示名は一意である必要はありません。作成したテナントアカウントには、一意の数値アカウントIDが割り当てられます。

. このテナントアカウントで使用するクライアントプロトコルとして、* S3 *または* Swift *を選択します。
. S3テナントアカウントの場合は、このテナントでS3バケットにプラットフォームサービスを使用しないようにする場合を除き、プラットフォームサービスの許可*チェックボックスをオンのままにしておきます。
+
プラットフォームサービスが有効になっている場合、テナントは外部サービスにアクセスする CloudMirror レプリケーションなどの機能を使用できます。これらの機能の使用を無効にすることで、テナントが消費するネットワーク帯域幅またはその他のリソースの量を制限できます。「プラットフォームサービスの管理」を参照してください。

. [*ストレージクォータ*]テキストボックスに、このテナントのオブジェクトで使用可能にする最大ギガバイト数、テラバイト数、またはペタバイト数をオプションで入力します。次に、ドロップダウンリストから単位を選択します。
+
このテナントのクォータを無制限にする場合は、このフィールドを空白のままにします。

+

NOTE: テナントのストレージクォータは、物理容量（ディスクのサイズ）ではなく、論理容量（オブジェクトのサイズ）を表します。ILMのコピーおよびイレイジャーコーディングは、クォータの使用量にはカウントされません。クォータを超過すると、テナントアカウントは新しいオブジェクトを作成できなくなります。

+

NOTE: 各テナントアカウントのストレージ使用状況を監視するには、「*使用状況*」を選択します。テナントアカウントは、Tenant Managerのダッシュボードまたはテナント管理APIを使用してストレージ使用状況を監視することもできます。ノードがグリッド内の他のノードから切断されていると、テナントのストレージ使用状況の値が最新ではなくなる場合があります。合計はネットワーク接続が回復すると更新されます。

. テナントで独自のグループとユーザを管理する場合は、次の手順を実行します。
+
.. [独自のアイデンティティソースを使用する*]チェックボックスをオンにします(デフォルト)。
+

NOTE: このチェックボックスをオンにしてテナントグループとユーザにアイデンティティフェデレーションを使用する場合、テナントが独自のアイデンティティソースを設定する必要があります。テナントアカウントを使用する手順を参照してください。

.. テナントのローカルrootユーザのパスワードを指定します。


. テナントがGrid Manager用に設定されたグループとユーザを使用する場合は、次の手順を実行します。
+
.. [独自のアイデンティティソースを使用する*]チェックボックスをオフにします。
.. 次のいずれか、または両方を実行します。
+
*** Root Access Groupフィールドで、テナントに対する最初のRoot Access権限を持つ既存のフェデレーテッドグループをGrid Managerから選択します。
+

NOTE: 適切な権限がある場合は、フィールドをクリックすると、Grid Managerから既存のフェデレーテッドグループが表示されます。それ以外の場合は、グループの一意の名前を入力します。

*** テナントのローカルrootユーザのパスワードを指定します。




. [ 保存（ Save ） ] をクリックします。
+
テナントアカウントが作成されます。

. 必要に応じて、新しいテナントにアクセスします。それ以外の場合は、の手順に進みます <<STEP_SIGN_IN_LATER,テナントへのアクセスはあとで行います>>。
+
[cols="1a,2a"]
|===
| 実行する作業 | 手順 


 a| 
制限されたポートでGrid Managerにアクセスします
 a| 
このテナントアカウントへのアクセス方法の詳細については、「* Restricted *」をクリックしてください。

Tenant Manager の URL の形式は次のとおりです。

`https://_FQDN_or_Admin_Node_IP:port_/?accountId=_20-digit-account-id_/`

** `_FQDN_or_Admin_Node_IP_` は、管理ノードの完全修飾ドメイン名またはIPアドレスです
** `_port_` は、テナント専用ポートです
** `_20-digit-account-id_` は、テナントの一意のアカウントIDです




 a| 
ポート443でGrid Managerにアクセスしているが、ローカルrootユーザのパスワードを設定していない
 a| 
[*サインイン*]をクリックし、ルートアクセスフェデレーテッドグループにユーザのクレデンシャルを入力します。



 a| 
ポート443でGrid Managerにアクセスし、ローカルrootユーザのパスワードを設定した
 a| 
次の手順に進みます <<STEP_SIGN_IN_AS_ROOT,rootとしてサインインします>>。

|===
. [[step_sign_in_as_root]] rootとしてテナントにサインインします。
+
.. Configure Tenant Account（テナントアカウントの設定）ダイアログボックスで、* Sign in as root *（rootとしてサインイン*）ボタンをクリックします。
+
image::../media/configure_tenant_account.gif[手順2のスクリーンショット-テナントアカウントを設定]

+
緑のチェックマークがボタン上に表示されます。これは、rootユーザとしてテナントアカウントにサインインしていることを示しています。

+
image::../media/step_2_sign_in_as_root.gif[rootとしてサインインします]

.. リンクをクリックしてテナントアカウントを設定します。
+
各リンクをクリックすると、 Tenant Manager の対応するページが開きます。このページの手順については、テナントアカウントの使用手順を参照してください。

.. [ 完了 ] をクリックします。


. [[step_sign_in_later]]あとでテナントにアクセスするには、次の手順を実行します。
+
[cols="1a,2a"]
|===
| 使用するポート | 次のいずれかを実行 ... 


 a| 
ポート 443
 a| 
** Grid Managerで* tenants *を選択し、テナント名の右側にある* Sign In *をクリックします。
** Web ブラウザにテナントの URL を入力します。
+
`https://_FQDN_or_Admin_Node_IP_/?accountId=_20-digit-account-id_/`

+
*** `_FQDN_or_Admin_Node_IP_` は、管理ノードの完全修飾ドメイン名またはIPアドレスです
*** `_20-digit-account-id_` は、テナントの一意のアカウントIDです






 a| 
制限されたポート
 a| 
** Grid Managerから* tenants *を選択し、* Restricted *をクリックします。
** Web ブラウザにテナントの URL を入力します。
+
`https://_FQDN_or_Admin_Node_IP:port_/?accountId=_20-digit-account-id_`

+
*** `_FQDN_or_Admin_Node_IP_` は、管理ノードの完全修飾ドメイン名またはIPアドレスです
*** `_port_` は、テナント専用の制限付きポートです
*** `_20-digit-account-id_` は、テナントの一意のアカウントIDです




|===


.関連情報
link:controlling-access-through-firewalls.html["ファイアウォールによるアクセス制御"]

link:managing-platform-services-for-s3-tenant-accounts.html["S3テナントアカウント用のプラットフォームサービスの管理"]

link:../tenant/index.html["テナントアカウントを使用する"]
